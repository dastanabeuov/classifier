<div class="show">
  <div class="name-container name-pale-blue name-leftbar mb-2">
    <h1>Show Xclass</h1>
  </div>

  <div class="show-form">
    <ul class="list-group">
      <li class="list-group-item"><strong>Name:</strong> <%= @xclass.name %></li>
      <li class="list-group-item"><strong>Description:</strong> <%= @xclass.description %></li>
      <li class="list-group-item"><strong>Synonym:</strong> <%= @xclass.synonym %></li>
      <li class="list-group-item"><strong>Code:</strong> <%= @xclass.code %></li>
      <li class="list-group-item"><strong>Version date:</strong> <%= @xclass.version_date %></li>
      <li class="list-group-item"><strong>Publish:</strong> <%= @xclass.publish %></li>
      <li class="list-group-item"><strong>Xtype:</strong> <%= @xclass.xtype %></li>
      <li class="list-group-item"><strong>Position:</strong> <%= @xclass.position %></li>    
      <li class="list-group-item"><strong>Ancestry:</strong> <%= @xclass.ancestry %></li>
      <li class="list-group-item"><strong>Children:</strong> <%= @xclass.has_children? %></li>
      <li class="list-group-item"><strong>Properties:</strong>
        <%= render 'shared/properties', resource: @xclass %>
      </li>
      <li class="list-group-item">
        <strong>Children: <% if current_user.author_of?(@xclass) %><%= link_to 'add new child', new_xroot_xcategory_xclass_path(@xcategory.xroot, @xcategory, parent_id: @xclass.id), class: "btn btn-sm btn-outline-success" %><% end %></strong>
        <ul class="list-group mt-3 mb-3">
          <% @xclass.children.each do |child| %>
            <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
              <%= link_to truncate("#{child.name}", :length => 30), xroot_xcategory_xclass_path(@xcategory.xroot, @xcategory, child), title: 'Name of child' %>
                <small title="Date of creation"><%= child.created_at %></small>
                <span class="badge badge-secondary badge-pill" title="Children">
                  <%= child.children.size %>
                </span>
                <% if current_user.author_of?(child) %>
                  <%= link_to (octicon 'trashcan'), xroot_xcategory_xclass_path(@xcategory.xroot, @xcategory, child), method: :delete, data: { confirm: 'Are you sure?' }, title: 'Delete' %>
                <% end %>
            </li>
          <% end %>
        </ul>
      </li>
    </ul>
  </div>

  <div class="btn-group mt-2">
    <% if current_user.author_of?(@xclass) %>
      <%= link_to 'Edit', edit_xroot_xcategory_xclass_path(@xcategory.xroot, @xcategory, @xclass), class: 'btn btn-sm btn-outline-secondary' %>
    <% end %>

    <% if @xclass.is_root? %>
      <%= link_to 'Back', xroot_xcategory_path(@xcategory.xroot, @xcategory), class: 'btn btn-sm btn-outline-secondary' %>
    <% else %>
      <%= link_to 'Back', xroot_xcategory_xclass_path(@xcategory.xroot, @xcategory, @xclass.parent), class: 'btn btn-sm btn-outline-secondary' %>
    <% end %>
  </div>
</div>